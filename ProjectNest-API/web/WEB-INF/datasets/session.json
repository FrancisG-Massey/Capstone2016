{
    "before": "
        SELECT
            es.user_id,
            es.user_isadmin,
            es.session_expirestimestamp
        FROM 
            extend_session(
                #string:session-token#::text, 
                #string:session-timeout#::interval
            ) es 
        WHERE es IS NOT NULL;
    ",
    "GET" : "
        SELECT 
            s.session_id AS id,
            s.session_userid AS user_id, 
            substring(s.session_token from 1 for 31)||'xxxxx' AS token, 
            s.session_createdtimestamp AS created,
            s.session_expirestimestamp AS expires
        FROM
            session s
        WHERE
            (#boolean:logged-user-isadmin# = true)
        GROUP BY
            s.session_id
        ORDER BY
            s.session_id;
    "
}