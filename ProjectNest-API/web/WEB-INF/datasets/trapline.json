{
    "GET" : "
        WITH logged_user AS (
            SELECT
                user_id,
                user_is_admin,
                user_is_inactive
            FROM users u
            JOIN session s ON u.user_id = s.session_user_id
            WHERE (#string:session-token# IS NOT NULL) AND (s.session_token = #string:session-token#)
            LIMIT 1
        )

        SELECT
            tl.trapline_id AS id,
            tl.trapline_name AS name,
            tl.trapline_region_id AS region_id,
            tl.trapline_start_tag AS start_tag,
            tl.trapline_end_tag AS end_tag,
            tl.trapline_image_filename AS img_filename,
            1 AS common_ct_id_1,
            2 AS common_ct_id_2,
            3 AS common_ct_id_3
        FROM
            logged_user lu,
            trapline tl
            LEFT JOIN trapline_user tlu
                ON tlu.trapline_user_trapline_id = tl.trapline_id
        WHERE
            (lu.user_is_inactive = false) AND
            ((lu.user_is_admin = true) OR (tlu.trapline_user_user_id = lu.user_id))
        GROUP BY
            tl.trapline_id
        ORDER BY
            tl.trapline_id
    ",
    "POST" : "", 
    "PUT" : "",
    "DELETE" : ""
}